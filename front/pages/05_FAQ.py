import streamlit as st
import pandas as pd

st.set_page_config(
    page_title="FAQ - DOCHICHA.Inc",
    page_icon="❓"
)

def main():
    st.title("❓ FAQ")
    st.markdown("신차 구매 시 자주 묻는 질문을 확인하세요.")
    
    st.subheader("🏭 제조사 선택")
    manufacturer = st.selectbox(
        "제조사를 선택하세요",
        ["전체", "현대", "기아", "KG 모빌리티", "르노코리아", "쉐보레"]
    )
    
    st.subheader("📂 카테고리")
    category = st.selectbox(
        "질문 카테고리를 선택하세요",
        ["전체", "계약/구매", "납기/배송", "보증/AS", "금융/할부", "기타"]
    )
    
    faq_data = {
        "현대": [
            {
                "질문": "보유 중인 차량을 판매하려면 어떻게 해야 하나요?",
                "답변": "현대 인증중고차 ‘내차팔기’ 서비스를 통해 온라인 접수 후 차량 점검·가격 산정·거래까지 원스톱으로 진행하실 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "블루멤버스 포인트는 어디에 사용할 수 있나요?",
                "답변": "차량 구매 시 현금처럼 사용하실 수 있으며(개인·개인사업자 기준 최대 400만P), 주유·충전·쇼핑 등 제휴처에서도 사용·적립하실 수 있습니다.",
                "카테고리": "금융/할부"
            },
            {
                "질문": "친환경 폐차 절차는 어떻게 진행되나요?",
                "답변": "홈페이지에서 친환경 폐차 서비스를 신청하시면 회수·해체·재활용까지 안내에 따라 진행됩니다. 조기폐차의 경우 지자체 확인 및 보조금 신청 절차가 추가됩니다.",
                "카테고리": "기타"
            },
            {
                "질문": "차량 구매 시 카드 결제는 어느 정도까지 가능하나요?",
                "답변": "현금·카드·할부·포인트 조합이 가능하며, 카드 가능 한도는 차종·프로모션·카드 상품 조건에 따라 달라질 수 있습니다.",
                "카테고리": "금융/할부"
            },
            {
                "질문": "계약 후 예상 납기일은 어디에서 확인할 수 있나요?",
                "답변": "차종별 안내 페이지에서 일반 납기 정보를 제공하며, 계약 고객께서는 마이페이지의 ‘계약상세’에서 본인 계약 건의 상태를 확인하실 수 있습니다.",
                "카테고리": "납기/배송"
            }
        ],
        "기아": [
            {
                "질문": "차량 구매자가 아닌 다른 사람 명의로도 Kia App 가입이 가능한가요?",
                "답변": "가능합니다. Kia App을 통해 제3자 명의로도 가입하실 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "리스·법인·렌트 차량도 Kia Connect를 이용할 수 있나요?",
                "답변": "가능합니다. Kia App에서 실제 사용자로 차량을 등록하시면 이용하실 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "계정 비밀번호와 원격제어 간편 비밀번호는 어디에서 변경할 수 있나요?",
                "답변": "Kia App 내에서 통합 계정 비밀번호와 원격제어 간편 비밀번호를 모두 변경하실 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "디지털 키 2는 어떻게 등록하나요?",
                "답변": "차량 내비게이션에서 최종 등록 절차를 진행하셔야 하며, 앱과 차량 화면의 안내를 순서대로 진행해 주시면 됩니다.",
                "카테고리": "기타"
            },
            {
                "질문": "디지털 키 2를 여러 스마트폰에 동시에 저장할 수 있나요?",
                "답변": "기본적으로 스마트폰 1대에만 저장하실 수 있습니다(아이폰은 애플 워치 1대 추가 가능). 다른 기기에서 사용하시려면 ‘키 공유’ 기능을 이용해 주시고, 동일 계정 간 공유는 제한됩니다.",
                "카테고리": "기타"
            }
        ],
        "KG 모빌리티": [
            {
                "질문": "카드 키는 어떻게 동작하나요?",
                "답변": "카드 키를 차량 도어 인증패드 근처에 대면 문을 잠그거나 해제하실 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "디지털 키 사용에 비용이 발생하나요?",
                "답변": "디지털 키 등록이 가능한 차량을 보유하신 경우, KGM LINK 앱에서 별도 비용 없이 이용하실 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "지원되는 스마트폰은 무엇인가요?",
                "답변": "NFC를 지원하는 안드로이드 스마트폰과 iOS 13 이상 아이폰에서 사용 가능하며, 상세 호환 목록은 안내 문서를 통해 확인하실 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "KGM LINK 앱을 삭제했다가 다시 설치해도 계속 사용할 수 있나요?",
                "답변": "동일한 스마트폰이라면 재설치 후 계속 이용 가능하며, 휴대폰이 변경된 경우 디지털 키는 재등록이 필요할 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "앱 최초 사용 시 차량 등록은 어떻게 진행하나요?",
                "답변": "로그인 후 ‘가입 차량 정보 → 서비스 가입 차량 찾기 → 휴대폰 인증 → 차량 등록’ 순서로 진행해 주시면 됩니다.",
                "카테고리": "계약/구매"
            }
        ],
        "르노코리아": [
            {
                "질문": "openR link 서비스의 무료 제공 기간이 있나요?",
                "답변": "신차 기준으로 내비게이션·원격제어 등 위치기반 서비스가 일정 기간 무상 제공되며, 이후에는 유료 요금제로 전환하여 이용하실 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "앱으로 원격 시동과 공조 기능을 사용할 수 있나요?",
                "답변": "My Renault 앱에서 원격 시동 및 공조 기능을 사용하실 수 있으며, 차종 및 사양에 따라 제공 기능이 달라질 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "차량 상태를 원격으로 확인할 수 있나요?",
                "답변": "앱에서 연료 잔량, 주행 가능 거리 등 차량 상태 정보를 원격으로 조회하실 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "전기차의 충전 제어 기능을 앱에서 사용할 수 있나요?",
                "답변": "openR link 서비스에서 원격 충전 제어 기능을 제공하며, 충전기 타입 및 조건에 따라 제약이 있을 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "스마트워치에서도 일부 기능을 사용할 수 있나요?",
                "답변": "스마트워치 앱 가이드를 통해 차량 상태 갱신과 일부 원격 기능을 워치에서 이용하실 수 있습니다(해당 차량 및 조건 필요).",
                "카테고리": "기타"
            }
        ],
        "쉐보레": [
            {
                "질문": "텔레나브(Telenav) 내비게이션은 어떻게 업데이트하나요?",
                "답변": "쉐보레 공식 홈페이지의 안내에 따라 업데이트 파일을 내려받아 적용하실 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "텔레나브 내비게이션 적용 차종은 무엇인가요?",
                "답변": "더 뉴 말리부(2019년형~), 이쿼녹스(2019년형~), 더 뉴 카마로(2019년형~), 콜로라도, 트래버스, 트레일블레이저, 볼트 EUV, 볼트 EV(2022년형~) 등으로 안내되어 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "루센(Rousen) 내비게이션은 어떻게 업데이트하나요?",
                "답변": "루센 공식 안내에 따라 해당 모델의 업데이트 파일을 내려받아 적용하실 수 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "루센 내비게이션 적용 차종은 무엇인가요?",
                "답변": "말리부(2018년형까지), 크루즈(2018년형까지), 임팔라, 알페온, 토스카, 이쿼녹스(2018년형까지), 올란도, 캡티바 등으로 고지되어 있습니다.",
                "카테고리": "기타"
            },
            {
                "질문": "기존 지엠대우 차량도 쉐보레 서비스센터를 이용할 수 있나요?",
                "답변": "지엠대우 서비스 네트워크가 쉐보레 서비스 네트워크로 전환되어 기존과 동일하게 이용하실 수 있습니다.",
                "카테고리": "보증/AS"
            }
        ],
    }
    
    st.subheader("💬 자주 묻는 질문")
    if manufacturer == "전체":
        all_faqs = []
        for brand, faqs in faq_data.items():
            for faq in faqs:
                faq["제조사"] = brand
                all_faqs.append(faq)
        display_faqs = all_faqs
    else:
        display_faqs = faq_data.get(manufacturer, [])
    
    if category != "전체":
        display_faqs = [faq for faq in display_faqs if faq["카테고리"] == category]
    
    if display_faqs:
        for i, faq in enumerate(display_faqs):
            with st.expander(f"Q{i+1}. {faq['질문']}"):
                st.markdown(f"**제조사**: {faq.get('제조사', manufacturer)}")
                st.markdown(f"**카테고리**: {faq['카테고리']}")
                st.markdown(f"**답변**: {faq['답변']}")
    else:
        st.info("선택한 조건에 해당하는 FAQ가 없습니다.")
    
    # st.markdown("---")
    # st.subheader("💭 궁금한 점이 있으신가요?")
    # with st.form("question_form"):
    #     user_question = st.text_area("질문을 입력하세요", placeholder="궁금한 점을 자유롭게 입력해주세요.")
    #     user_email = st.text_input("이메일 (선택사항)", placeholder="답변을 받을 이메일 주소")
    #     submitted = st.form_submit_button("질문 제출")
    #     if submitted:
    #         if user_question:
    #             st.success("질문이 제출되었습니다! 빠른 시일 내에 답변드리겠습니다.")
    #         else:
    #             st.error("질문을 입력해주세요.")

if __name__ == "__main__":
    main()
